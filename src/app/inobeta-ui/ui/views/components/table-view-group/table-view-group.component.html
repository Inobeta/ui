<ng-container *ngIf="views$ | async as views">
  <section class="ib-table-view-group">
    <section class="ib-table-view-wrapper">
      <ib-default-table-view
        [view]="defaultView"
        [selected]="activeView?.id === defaultView.id"
        (ibChangeView)="handleChangeView(defaultView)"
      ></ib-default-table-view>
      <ib-table-view
        *ngFor="let view of views"
        [view]="view"
        [selected]="activeView?.id === view.id"
        [dirty]="dirty"
        (ibChangeView)="handleChangeView($event)"
        (ibRemoveView)="handleRemoveView($event)"
        (ibRenameView)="handleRenameView($event)"
        (ibDuplicateView)="handleDuplicateView($event)"
      ></ib-table-view>

      <button mat-icon-button (click)="handleAddView()">
        <mat-icon>add</mat-icon>
      </button>
    </section>

    <section style="justify-self: flex-end">
      <button
        mat-icon-button
        [matTooltip]="'shared.ibTableView.undo' | translate"
        (click)="handleDiscardChanges()"
        [disabled]="!dirty"
      >
        <mat-icon>undo</mat-icon>
      </button>

      <button
        mat-icon-button
        [matTooltip]="'shared.ibTableView.save' | translate"
        (click)="handleSaveView()"
        [disabled]="!dirty"
      >
        <mat-icon>save</mat-icon>
      </button>
    </section>
  </section>
</ng-container>
